{
  "actionable_tasks": [
    {
      "id": "task_1",
      "title": "Persist Rolling Window Metrics to Redis",
      "description": "Implement persistence of API latency and error metrics to Redis for durability and multi-instance aggregation. This will allow metrics to survive restarts and be shared across horizontally scaled instances.",
      "priority": "high",
      "estimated_time": "60-90 minutes",
      "files_to_modify": [
        "scripts/bench/api-latency.js",
        "src/api/middleware/metrics.js",
        "src/config/redis.js"
      ],
      "implementation_steps": [
        "Add Redis client initialization in src/config/redis.js if not present.",
        "Update metrics middleware to write rolling window data to Redis after each request.",
        "On server start, load existing metrics from Redis into in-memory structures.",
        "Update scripts/bench/api-latency.js to optionally read from Redis for reporting.",
        "Test with Redis running locally to ensure durability and aggregation work as expected."
      ],
      "complexity_score": 7
    },
    {
      "id": "task_2",
      "title": "TypeScript Migration Plan for High-Change Backend Modules",
      "description": "Draft and begin implementing a TypeScript migration plan for backend modules with high change-rate, focusing on `src/api/routes/*` and `src/chat/*`.",
      "priority": "medium",
      "estimated_time": "60 minutes",
      "files_to_modify": [
        "src/api/routes/*",
        "src/chat/*",
        "tsconfig.json"
      ],
      "implementation_steps": [
        "Create tsconfig.json with appropriate settings for incremental migration.",
        "Rename one or two small files in src/api/routes/ to .ts and add type annotations for function signatures and key objects.",
        "Fix any type errors and ensure tests pass.",
        "Document migration steps and guidelines in a new MIGRATION.md file."
      ],
      "complexity_score": 6
    },
    {
      "id": "task_3",
      "title": "Expand Jest Integration/Security Tests for MCP Endpoints",
      "description": "Add additional Jest tests to cover MCP endpoints and provider health checks, focusing on integration and basic security (e.g., input validation, error handling).",
      "priority": "high",
      "estimated_time": "45-60 minutes",
      "files_to_modify": [
        "tests/integration/mcp.test.js",
        "src/api/routes/providers.js"
      ],
      "implementation_steps": [
        "Identify untested MCP endpoints and provider health routes.",
        "Write new Jest tests for these endpoints, including edge cases and error scenarios.",
        "Run tests and ensure coverage increases.",
        "Document new tests in WORKFLOW_STATE.md."
      ],
      "complexity_score": 5
    },
    {
      "id": "task_4",
      "title": "Containerize Node Backend and React Frontend with Dockerfiles",
      "description": "Write simple Dockerfiles for the Node backend and React frontend, and add a docker-compose.yml for local development.",
      "priority": "medium",
      "estimated_time": "60 minutes",
      "files_to_modify": [
        "Dockerfile.backend",
        "Dockerfile.frontend",
        "docker-compose.yml"
      ],
      "implementation_steps": [
        "Create Dockerfile for Node backend: use official Node image, copy files, install dependencies, set CMD.",
        "Create Dockerfile for React frontend: use Node image for build, then serve with nginx or similar.",
        "Write docker-compose.yml to orchestrate both services for local development.",
        "Test build and run locally, update documentation."
      ],
      "complexity_score": 6
    },
    {
      "id": "task_5",
      "title": "EnhancedChatInterface: Provider Quick-Switch and Badge",
      "description": "Add a provider quick-switch UI in EnhancedChatInterface.jsx using useLLM(), and display the current provider as a chip/badge.",
      "priority": "high",
      "estimated_time": "30-45 minutes",
      "files_to_modify": [
        "frontend/components/EnhancedChatInterface.jsx"
      ],
      "implementation_steps": [
        "Import and use useLLM() hook to access provider switching logic.",
        "Add a dropdown or button group for quick provider switching.",
        "Display the current provider as a chip or badge in the chat interface.",
        "Test UI interactions and update mock data if needed."
      ],
      "complexity_score": 4
    },
    {
      "id": "task_6",
      "title": "EnhancedMusicDiscovery: Mood Sliders and Mini Feature Visualization",
      "description": "Implement mood sliders and a client-only radar/sparkline visualization for moodSettings values in EnhancedMusicDiscovery.jsx.",
      "priority": "medium",
      "estimated_time": "45-60 minutes",
      "files_to_modify": [
        "frontend/components/EnhancedMusicDiscovery.jsx"
      ],
      "implementation_steps": [
        "Add slider components for mood settings (e.g., energy, valence).",
        "Implement a radar or sparkline chart using a lightweight charting library or custom SVG.",
        "Bind slider values to the visualization and ensure real-time updates.",
        "Test UI responsiveness and accessibility."
      ],
      "complexity_score": 5
    },
    {
      "id": "task_7",
      "title": "EnhancedAnalyticsDashboard: Sparkline Components for Metrics",
      "description": "Add sparkline components to EnhancedAnalyticsDashboard.jsx for overview metrics, using mock fallback data if live data is unavailable.",
      "priority": "low",
      "estimated_time": "30-45 minutes",
      "files_to_modify": [
        "frontend/components/EnhancedAnalyticsDashboard.jsx"
      ],
      "implementation_steps": [
        "Select or implement a simple sparkline component.",
        "Integrate sparklines for top metrics (e.g., API latency, user engagement).",
        "Fallback to mock data if API is not available.",
        "Test rendering and update documentation."
      ],
      "complexity_score": 3
    }
  ],
  "next_research_topics": [
    "Circuit breaker pattern for provider failover in Node.js",
    "Request correlation IDs for distributed tracing",
    "MongoDB compound and TTL indexes for analytics",
    "OpenTelemetry integration for Node.js services"
  ],
  "completion_percentage": 75
}